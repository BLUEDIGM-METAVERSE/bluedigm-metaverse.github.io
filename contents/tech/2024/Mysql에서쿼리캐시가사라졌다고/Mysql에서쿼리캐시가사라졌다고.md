---
category: 'Tech'
title: 'Mysql 에서 쿼리 캐시가 사라졌다고???'
date: '2024-06-03'
tags: ['MySQL','query cache', 'scalar subquery', '스칼라서브쿼리', '쿼리캐시']
writer: '최일주'
---

> MySQL에 쿼리 캐시가 내장되어 있다는 말을 들었다면 잊어버리고 절대 사용하지 마세요. MySQL 5.7.20부터 사용 되지 않으며 MySQL8.0 부터 제거 되었습니다.
> 

알고는 있었지만… 궁금한게 있다.

MySQL에서 스칼라 서브쿼리를 같은 쿼리가 실행될 경우 캐싱이 안되는 것인가?

아니면 원래 MySQL의 스칼라 서브쿼리를 캐싱을 사용하지 않은 건가?

아니면 오라클과 같은 구조로 쿼리 실행시 캐싱을 스칼라 서브쿼리에 대한 캐싱을 사용하는 것일까?

공식적인 문서로 본 내용을 본적이 없고…

테스트도 애매해서 잘 모르겠다…

또 한가지 쿼리 내에서 스칼라 서브쿼리에 대한 캐싱을 별도로 저정해서 쓴다면

그건 고립수준에 따라 달라질까? 

오라클 기본값인  READ COMMITTED 의 경우 커밋이 되면 변경된 데이타로 읽어야 한다면 

MYSQL의 기본값이 REPEATABLE READ 는 커밋 무시하고 읽어도 되니 캐시쓰기에 더 유리한거 아닐까?

머… 그 결과가 서비스 요구사항에 맞지 않을 수  있지만…

여튼, 동시성 문제 라든가 여러 버그 가능성을 가지고 있던 쿼리 캐시는 사라졌다.

![할로우맨2.jpg](images/%ED%95%A0%EB%A1%9C%EC%9A%B0%EB%A7%A82.jpg)